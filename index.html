<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GMatTensor: GMatTensor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GMatTensor<span id="projectnumber">&#160;0.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="namespaceGMatTensor.html" title="Tensor products / operations.">GMatTensor</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__home_runner_work_GMatTensor_GMatTensor_README"></a> <a href="https://github.com/tdegeus/GMatTensor/actions"><img src="https://github.com/tdegeus/GMatTensor/workflows/CI/badge.svg" alt="CI" style="pointer-events: none;" class="inline"/></a> <a href="https://tdegeus.github.io/GMatTensor"><img src="https://github.com/tdegeus/GMatTensor/workflows/gh-pages/badge.svg" alt="Doxygen -> gh-pages" style="pointer-events: none;" class="inline"/></a> <a href="https://anaconda.org/conda-forge/gmattensor"><img src="https://img.shields.io/conda/vn/conda-forge/gmattensor.svg" alt="Conda Version" style="pointer-events: none;" class="inline"/></a> <a href="https://anaconda.org/conda-forge/python-gmattensor"><img src="https://img.shields.io/conda/vn/conda-forge/python-gmattensor.svg" alt="Conda Version" style="pointer-events: none;" class="inline"/></a></p>
<p >Tensor definitions supporting several GMat models.</p>
<ul>
<li>Getting started: this readme.</li>
<li>Documentation: <a href="https://tdegeus.github.io/GMatTensor">https://tdegeus.github.io/GMatTensor</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Contents</h1>
<ul>
<li><a href="#disclaimer">Disclaimer</a></li>
<li><a href="#functionality">Functionality</a><ul>
<li><a href="#unit-tensors">Unit tensors</a></li>
<li><a href="#tensor-operations">Tensor operations</a></li>
<li><a href="#tensor-operations-semi-public-api">Tensor operations (semi-public API)</a></li>
</ul>
</li>
<li><a href="#implementation">Implementation</a><ul>
<li><a href="#c-and-python">C++ and Python</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a><ul>
<li><a href="#c-headers">C++ headers</a><ul>
<li><a href="#using-conda">Using conda</a></li>
<li><a href="#from-source">From source</a></li>
</ul>
</li>
<li><a href="#python-module">Python module</a><ul>
<li><a href="#using-conda-1">Using conda</a></li>
<li><a href="#from-source-1">From source</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#compiling-user-code">Compiling user-code</a><ul>
<li><a href="#using-cmake">Using CMake</a><ul>
<li><a href="#example">Example</a></li>
<li><a href="#targets">Targets</a></li>
<li><a href="#optimisation">Optimisation</a></li>
</ul>
</li>
<li><a href="#by-hand">By hand</a></li>
<li><a href="#using-pkg-config">Using pkg-config</a></li>
</ul>
</li>
<li><a href="#change-log">Change-log</a><ul>
<li><a href="#v090">v0.9.0</a></li>
<li><a href="#v080">v0.8.0</a></li>
<li><a href="#v075">v0.7.5</a></li>
<li><a href="#v074">v0.7.4</a></li>
<li><a href="#v073">v0.7.3</a></li>
<li><a href="#v072">v0.7.2</a></li>
<li><a href="#v071">v0.7.1</a></li>
<li><a href="#v070">v0.7.0</a></li>
<li><a href="#v060">v0.6.0</a></li>
<li><a href="#v050">v0.5.0</a></li>
<li><a href="#v040">v0.4.0</a></li>
<li><a href="#v030">v0.3.0</a></li>
<li><a href="#v020">v0.2.0</a></li>
<li><a href="#v012">v0.1.2</a></li>
<li><a href="#v011">v0.1.1</a></li>
<li><a href="#v010">v0.1.0</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Disclaimer</h1>
<p >This library is free to use under the <a href="https://github.com/tdegeus/GMatTensor/blob/master/LICENSE">MIT license</a>. Any additions are very much appreciated, in terms of suggested functionality, code, documentation, testimonials, word-of-mouth advertisement, etc. Bug reports or feature requests can be filed on <a href="https://github.com/tdegeus/GMatTensor">GitHub</a>. As always, the code comes with no guarantee. None of the developers can be held responsible for possible mistakes.</p>
<p >Download: <a href="https://github.com/tdegeus/GMatTensor/zipball/master">.zip file</a> | <a href="https://github.com/tdegeus/GMatTensor/tarball/master">.tar.gz file</a>.</p>
<p >(c - <a href="https://github.com/tdegeus/GMatTensor/blob/master/LICENSE">MIT</a>) T.W.J. de Geus (Tom) | <a href="#" onclick="location.href='mai'+'lto:'+'tom'+'@g'+'eus'+'.m'+'e'; return false;">tom@g<span style="display: none;">.nosp@m.</span>eus.<span style="display: none;">.nosp@m.</span>me</a> | www.geus.me | <a href="https://github.com/tdegeus/GMatTensor">github.com/tdegeus/GMatTensor</a></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Functionality</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Unit tensors</h2>
<p >This library implements for a Cartesian coordinate frame in 2d or in 3d:</p>
<ul>
<li>Second (<code>I2</code>) and fourth (<code>I4</code>) order null tensors:<ul>
<li>0<sub>ik</sub> = <code>02</code><sub>ij</sub> <em>A</em><sub>jk</sub></li>
<li>0<sub>ij</sub> = <code>04</code><sub>ijkl</sub> <em>A</em><sub>lk</sub></li>
</ul>
</li>
<li>Second (<code>I2</code>) and fourth (<code>I4</code>) order unit tensors:<ul>
<li><em>A</em><sub>ik</sub> = <code>I2</code><sub>ij</sub> <em>A</em><sub>jk</sub></li>
<li><em>A</em><sub>ij</sub> = <code>I4</code><sub>ijkl</sub> <em>A</em><sub>lk</sub></li>
</ul>
</li>
<li>Fourth order projection tensors: symmetric, deviatoric, right- and left-transposed:<ul>
<li>tr(<em>A</em>) = <code>I2</code><sub>ij</sub> <em>A</em><sub>ji</sub></li>
<li>dev(<em>A</em>) = <code>I4d</code><sub>ijkl</sub> <em>A</em><sub>lk</sub></li>
<li>sym(<em>A</em>) = <code>I4s</code><sub>ijkl</sub> <em>A</em><sub>lk</sub></li>
<li>transpose(<em>A</em>) = <code>I4rt</code><sub>ijkl</sub> <em>A</em><sub>lk</sub></li>
</ul>
</li>
</ul>
<p >For convenience also find:</p>
<ul>
<li>Second (<code>I2</code>) and fourth (<code>I4</code>) order random tensors, with each component drawn from a normal distribution.</li>
</ul>
<p >In addition it provides an <code>Array&lt;rank&gt;</code> of unit tensors. Suppose that the array is rank three, with shape (R, S, T), then the output is:</p>
<ul>
<li>Second order tensors: (R, S, T, d, d), with <code>d</code> the number of dimensions (2 or 3).</li>
<li>Fourth order tensors: (R, S, T, d, d, d, d).</li>
</ul>
<p >E.g. </p><div class="fragment"><div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#a158c1e4b06a96d9784b675fe778d5ff2">O2</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#ad36ef731666a96843121292f5b67449c">O4</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#a1e2b40fdd3d0c0f713d752bff4c0aef3">I2</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#a7099bc8f1b373de749a1343953034290">I4</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#a6479c1650b9f1b25d2728ec27ad566f3">II</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#adf7d4ae76cc0b8d8b8833873177af0fe">I4d</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#a8d33a31eadcbcaf4230282b143c91e75">I4s</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).<a class="code hl_function" href="namespaceGMatTensor_1_1Cartesian2d.html#ad96069f6e9dc5d5d1bac300754c06341">I4rt</a>();</div>
<div class="line"><span class="keyword">auto</span> A = GMatTensor::Array&lt;3&gt;({4, 5, 6}).I4lt();</div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_a158c1e4b06a96d9784b675fe778d5ff2"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#a158c1e4b06a96d9784b675fe778d5ff2">GMatTensor::Cartesian2d::O2</a></div><div class="ttdeci">array_type::tensor&lt; double, 2 &gt; O2()</div><div class="ttdoc">2nd-order null tensor (all components equal to zero).</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00035">Cartesian2d.hpp:35</a></div></div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_a1e2b40fdd3d0c0f713d752bff4c0aef3"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#a1e2b40fdd3d0c0f713d752bff4c0aef3">GMatTensor::Cartesian2d::I2</a></div><div class="ttdeci">array_type::tensor&lt; double, 2 &gt; I2()</div><div class="ttdoc">2nd-order identity tensor.</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00047">Cartesian2d.hpp:47</a></div></div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_a6479c1650b9f1b25d2728ec27ad566f3"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#a6479c1650b9f1b25d2728ec27ad566f3">GMatTensor::Cartesian2d::II</a></div><div class="ttdeci">array_type::tensor&lt; double, 4 &gt; II()</div><div class="ttdoc">Result of the dyadic product of two 2nd-order identity tensors (see I2()).</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00054">Cartesian2d.hpp:54</a></div></div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_a7099bc8f1b373de749a1343953034290"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#a7099bc8f1b373de749a1343953034290">GMatTensor::Cartesian2d::I4</a></div><div class="ttdeci">array_type::tensor&lt; double, 4 &gt; I4()</div><div class="ttdoc">Fourth order unit tensor.</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00061">Cartesian2d.hpp:61</a></div></div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_a8d33a31eadcbcaf4230282b143c91e75"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#a8d33a31eadcbcaf4230282b143c91e75">GMatTensor::Cartesian2d::I4s</a></div><div class="ttdeci">array_type::tensor&lt; double, 4 &gt; I4s()</div><div class="ttdoc">Fourth order symmetric projection.</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00075">Cartesian2d.hpp:75</a></div></div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_ad36ef731666a96843121292f5b67449c"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#ad36ef731666a96843121292f5b67449c">GMatTensor::Cartesian2d::O4</a></div><div class="ttdeci">array_type::tensor&lt; double, 4 &gt; O4()</div><div class="ttdoc">4th-order null tensor (all components equal to zero).</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00041">Cartesian2d.hpp:41</a></div></div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_ad96069f6e9dc5d5d1bac300754c06341"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#ad96069f6e9dc5d5d1bac300754c06341">GMatTensor::Cartesian2d::I4rt</a></div><div class="ttdeci">array_type::tensor&lt; double, 4 &gt; I4rt()</div><div class="ttdoc">Right-transposed fourth order unit tensor.</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00068">Cartesian2d.hpp:68</a></div></div>
<div class="ttc" id="anamespaceGMatTensor_1_1Cartesian2d_html_adf7d4ae76cc0b8d8b8833873177af0fe"><div class="ttname"><a href="namespaceGMatTensor_1_1Cartesian2d.html#adf7d4ae76cc0b8d8b8833873177af0fe">GMatTensor::Cartesian2d::I4d</a></div><div class="ttdeci">array_type::tensor&lt; double, 4 &gt; I4d()</div><div class="ttdoc">Fourth order deviatoric projection.</div><div class="ttdef"><b>Definition:</b> <a href="Cartesian2d_8hpp_source.html#l00082">Cartesian2d.hpp:82</a></div></div>
</div><!-- fragment --><p >Given that the arrays are row-major, the tensors or each array component are thus stored contiguously in the memory. This is heavily used to expose all operations below to nd-arrays of tensors. In particular, all operations are available on raw pointers to a tensor, or for nd-arrays of (x)tensors (include a 'plain' tensor with array rank 0).</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Tensor operations</h2>
<ul>
<li>Input: 2nd-order tensor (e.g. <code>(R, S, T, d, d)</code>). Returns: scalar (e.g. <code>(R, S, T)</code>).<ul>
<li>tr(<em>A</em>) = <code>Trace(A)</code></li>
<li>tr(<em>A</em>) / <em>d</em> = <code>Hydrostatic(A)</code></li>
<li>det(<em>A</em>) = <code>Det(A)</code></li>
<li><em>A</em><sub>ij</sub> B<sub>ji</sub> = <em>A</em> : <em>B</em> = <code>A2_ddot_B2(A, B)</code></li>
<li><em>A</em><sub>ij</sub> B<sub>ji</sub> = <em>A</em> : <em>B</em> = <code>A2s_ddot_B2s(A, B)</code> (both tensors assumed symmetric, no assertion).</li>
<li>dev(<em>A</em>)<sub>ij</sub> dev(A)<sub>ji</sub> = <code>Norm_deviatoric(A)</code></li>
</ul>
</li>
<li>Input: 2nd-order tensor (e.g. <code>(R, S, T, d, d)</code>). Returns: 2nd-order tensor (e.g. <code>(R, S, T, d, d)</code>).<ul>
<li>dev(<em>A</em>) = <code>A</code> - <code>Hydrostatic(A)</code> * <code>I2</code></li>
<li>dev(<em>A</em>) = <code>Deviatoric(A)</code></li>
<li>sym(<em>A</em>) = <code>Sym(A)</code></li>
<li><em>A</em><sup>-1</sup> = <code>Inv(A)</code></li>
<li>log(<em>A</em>) = <code>Logs(A)</code> (tensor assumed symmetric, no assertion).</li>
<li><em>C</em><sub>ik</sub> <em>A</em><sub>ij</sub> A<sub>kj</sub> = <em>A</em> . <em>A</em><sup>T</sup> = <code>A2_dot_A2T(A, B)</code></li>
<li><em>C</em><sub>ik</sub> <em>A</em><sub>ij</sub> B<sub>jk</sub> = <em>A</em> . <em>B</em> = <code>A2_dot_B2(A, B)</code></li>
<li><em>C</em><sub>ij</sub> <em>A</em><sub>ijkl</sub> B<sub>lk</sub> = <em>A</em> : <em>B</em> = <code>A4_ddot_B2(A, B)</code></li>
</ul>
</li>
<li>Input: 2nd-order tensor (e.g. <code>(R, S, T, d, d)</code>) or 4th-order tensor (e.g. <code>(R, S, T, d, d, d)</code>). Returns: 4th-order tensor (e.g. <code>(R, S, T, d, d, d)</code>).<ul>
<li><em>C</em><sub>ijkl</sub> <em>A</em><sub>ij</sub> B<sub>kl</sub> = <em>A</em> * <em>B</em> = <code>A2_dyadic_B2(A, B)</code></li>
<li><em>C</em><sub>ijkm</sub> <em>A</em><sub>ijkl</sub> B<sub>lm</sub> = <em>A</em> . <em>B</em> = <code>A4_dot_B2(A, B)</code></li>
</ul>
</li>
</ul>
<p >Note that the output has:</p>
<ul>
<li>In the case of an input tensor <code>(d, d)</code> the output can be a rank-zero matrix. To get a scalar do e.g. <code>Hydrostatic(A)()</code>.</li>
</ul>
<p >Furthermore note that:</p>
<ul>
<li>Functions whose name starts with a capital letter allocate and return their output.</li>
<li>Functions whose name starts with a small letter require their output as final input parameter(s), which is changed in-place.</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Tensor operations (semi-public API)</h2>
<p >A semi-public API exists that is mostly aimed to support <em>GMat</em> implementation. These involve pure-tensor operations based the input (and the output) as a pointer, using the following storage convention:</p>
<ul>
<li>Cartesian2d: (xx, xy, yx, yy).</li>
<li>Cartesian3d: (xx, xy, xz, yx, yy, yz, zx, zy, zz).</li>
</ul>
<p >This part of the API does not support arrays of tensors. In addition to the pointer equivalent (or in fact core) of the above function, the following functions are available:</p>
<ul>
<li><code>Hydrostatic_deviatoric</code>: Return the hydrostatic part of a tensor, and write the deviatoric part to a pointer.</li>
<li><code>A4_ddot_B4_ddot_C4</code>: <em>A</em> : <em>B</em> : <em>C</em></li>
<li><code>A2_dot_B2_dot_C2T</code>: <em>A</em> . <em>B</em> . <em>C</em><sup>T</sup></li>
<li><code>eigs</code>: Compute the eigen values and eigen vectors for a symmetric 2nd order tensor (no assertion on symmetry).</li>
<li><code>from_eigs</code>: The reverse operation from <code>eigs</code>, for a symmetric 2nd order tensor (no assertion on symmetry).</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Implementation</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
C++ and Python</h2>
<p >The code is a C++ header-only library (see <a href="#c-headers">installation notes</a>), but a Python module is also provided (see <a href="#python-module">installation notes</a>). The interfaces are identical except:</p>
<ul>
<li>All <em>xtensor</em> objects (<code>xt::xtensor&lt;...&gt;</code>) are <em>NumPy</em> arrays in Python. Overloading based on rank is also available in Python.</li>
<li>The Python module cannot change output objects in-place: only functions whose name starts with a capital letter are included, see below.</li>
<li>All <code>::</code> in C++ are <code>.</code> in Python.</li>
</ul>
<h1><a class="anchor" id="autotoc_md9"></a>
Installation</h1>
<h2><a class="anchor" id="autotoc_md10"></a>
C++ headers</h2>
<h3><a class="anchor" id="autotoc_md11"></a>
Using conda</h3>
<div class="fragment"><div class="line">conda install -c conda-forge gmattensor</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12"></a>
From source</h3>
<div class="fragment"><div class="line"># Download GMatTensor</div>
<div class="line">git checkout https://github.com/tdegeus/GMatTensor.git</div>
<div class="line">cd GMatTensor</div>
<div class="line"> </div>
<div class="line"># Install headers, CMake and pkg-config support</div>
<div class="line">cmake -Bbuild .</div>
<div class="line">cd build</div>
<div class="line">make install</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13"></a>
Python module</h2>
<h3><a class="anchor" id="autotoc_md14"></a>
Using conda</h3>
<div class="fragment"><div class="line">conda install -c conda-forge python-gmattensor</div>
</div><!-- fragment --><p >Note that <em>xsimd</em> and hardware optimisation are <b>not enabled</b>. To enable them you have to compile on your system, as is discussed next.</p>
<h3><a class="anchor" id="autotoc_md15"></a>
From source</h3>
<blockquote class="doxtable">
<p >You need <em>xtensor</em>, <em>xtensor-python</em> and optionally <em>xsimd</em> as prerequisites. In addition <em>scikit-build</em> is needed to control the build from Python. The easiest is to use <em>conda</em> to get the prerequisites:</p>
<div class="fragment"><div class="line">conda install -c conda-forge xtensor-python</div>
<div class="line">conda install -c conda-forge xsimd</div>
<div class="line">conda install -c conda-forge scikit-build</div>
</div><!-- fragment --><p >If you then compile and install with the same environment you should be good to go. Otherwise, a bit of manual labour might be needed to treat the dependencies. </p>
</blockquote>
<div class="fragment"><div class="line"># Download GMatTensor</div>
<div class="line">git checkout https://github.com/tdegeus/GMatTensor.git</div>
<div class="line">cd GMatTensor</div>
<div class="line"> </div>
<div class="line"># Only if you want to use hardware optization:</div>
<div class="line">export CMAKE_ARGS=&quot;-DUSE_SIMD=1&quot;</div>
<div class="line"> </div>
<div class="line"># Compile and install the Python module</div>
<div class="line"># (-vv can be omitted as is controls just the verbosity)</div>
<div class="line">python setup.py install --build-type Release -vv</div>
<div class="line"> </div>
<div class="line"># OR, Compile and install the Python module with hardware optimisation</div>
<div class="line"># (with scikit-build CMake options can just be added as command-line arguments)</div>
<div class="line">python setup.py install --build-type Release -DUSE_SIMDD=1 -vv</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Compiling user-code</h1>
<h2><a class="anchor" id="autotoc_md17"></a>
Using CMake</h2>
<h3><a class="anchor" id="autotoc_md18"></a>
Example</h3>
<p >Using <em><a class="el" href="namespaceGMatTensor.html" title="Tensor products / operations.">GMatTensor</a></em> your <code>CMakeLists.txt</code> can be as follows</p>
<div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.1)</div>
<div class="line">project(example)</div>
<div class="line">find_package(GMatTensor REQUIRED)</div>
<div class="line">add_executable(example example.cpp)</div>
<div class="line">target_link_libraries(example PRIVATE GMatTensor)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19"></a>
Targets</h3>
<p >The following targets are available:</p>
<ul>
<li><code><a class="el" href="namespaceGMatTensor.html" title="Tensor products / operations.">GMatTensor</a></code> Includes <em><a class="el" href="namespaceGMatTensor.html" title="Tensor products / operations.">GMatTensor</a></em> and the <em>xtensor</em> dependency.</li>
<li><code>GMatTensor::assert</code> Enables assertions by defining <code>GMATTENSOR_ENABLE_ASSERT</code>.</li>
<li><code>GMatTensor::debug</code> Enables all assertions by defining <code>GMATTENSOR_ENABLE_ASSERT</code> and <code>XTENSOR_ENABLE_ASSERT</code>.</li>
<li><code>GMatTensor::compiler_warings</code> Enables compiler warnings (generic).</li>
</ul>
<h3><a class="anchor" id="autotoc_md20"></a>
Optimisation</h3>
<p >It is advised to think about compiler optimisation and enabling <em>xsimd</em>. Using <em>CMake</em> this can be done using the <code>xtensor::optimize</code> and <code>xtensor::use_xsimd</code> targets. The above example then becomes:</p>
<div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.1)</div>
<div class="line">project(example)</div>
<div class="line">find_package(GMatTensor REQUIRED)</div>
<div class="line">find_package(xtensor REQUIRED)</div>
<div class="line">find_package(xsimd REQUIRED)</div>
<div class="line">add_executable(example example.cpp)</div>
<div class="line">target_link_libraries(example PRIVATE GMatTensor xtensor::optimize xtensor::use_xsimd)</div>
</div><!-- fragment --><p >See the <a href="https://xtensor.readthedocs.io/en/latest/">documentation of xtensor</a> concerning optimisation.</p>
<h2><a class="anchor" id="autotoc_md21"></a>
By hand</h2>
<p >Presuming that the compiler is <code>c++</code>, compile using:</p>
<div class="fragment"><div class="line">c++ -I/path/to/GMatTensor/include ...</div>
</div><!-- fragment --><p >Note that you have to take care of the <em>xtensor</em> dependency, the C++ version, optimisation, enabling <em>xsimd</em>, ...</p>
<h2><a class="anchor" id="autotoc_md22"></a>
Using pkg-config</h2>
<p >Presuming that the compiler is <code>c++</code>, compile using:</p>
<div class="fragment"><div class="line">c++ `pkg-config --cflags GMatTensor` ...</div>
</div><!-- fragment --><p >Note that you have to take care of the <em>xtensor</em> dependency, the C++ version, optimization, enabling <em>xsimd</em>, ...</p>
<h1><a class="anchor" id="autotoc_md23"></a>
Change-log</h1>
<h2><a class="anchor" id="autotoc_md24"></a>
v0.9.0</h2>
<ul>
<li>Type alias <code>xt::xtensor</code>: allows full API to use <code>xt::pytensor</code> (#44)</li>
<li>[BREAKING CHANGE] Python: <code>shape*</code>: function -&gt; property (#44)</li>
<li>[BREAKING CHANGE] Remove view_tensor* (re-rolls #41) (#44)</li>
<li>[docs] Adding update script</li>
</ul>
<h2><a class="anchor" id="autotoc_md25"></a>
v0.8.0</h2>
<ul>
<li>[BREAKING CHANGE] Moving "allocate" to public namespace (#42)</li>
<li>Array of tensors: returning underlying shape/size (#43)</li>
<li>Array: adding function to 'view' a tensor (rank 2 or 4) (#41)</li>
<li>auto-format (#40)</li>
<li>[Python] Adding 0d array</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
v0.7.5</h2>
<ul>
<li>Switching to scikit-build (#37)</li>
</ul>
<h2><a class="anchor" id="autotoc_md27"></a>
v0.7.4</h2>
<ul>
<li>Allow xsimd from setup.py using <code>CMAKE_ARGS</code> (#36)</li>
</ul>
<h2><a class="anchor" id="autotoc_md28"></a>
v0.7.3</h2>
<ul>
<li>Adding cross-compilation features (#35)</li>
<li>Updating doxystyle</li>
<li>Removing xtensor-python work-around</li>
</ul>
<h2><a class="anchor" id="autotoc_md29"></a>
v0.7.2</h2>
<ul>
<li>Bugfix: type recognition for xtensor-fixed.</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
v0.7.1</h2>
<ul>
<li>Using xtensor-python to speed-up Python API, and to allow in-place output.</li>
<li>[CI] Using micromamba for efficiency.</li>
</ul>
<h2><a class="anchor" id="autotoc_md31"></a>
v0.7.0</h2>
<ul>
<li>[CI] Fixing typos</li>
<li>[docs] Minor updates</li>
<li>[docs] Using dark-style documentation</li>
<li>[CMake] Simplifying implementation</li>
<li>[Python] Reducing deps</li>
<li>Minor reorganization</li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
v0.6.0</h2>
<ul>
<li>[docs] Adding doxygen docs published on GitHub pages.</li>
<li>[docs] Minor readme updates.</li>
<li>[CMake] Small tweaks.</li>
<li>[CMake] Relaxing C++17 requirement.</li>
<li>Using setuptools_scm for versioning.</li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
v0.5.0</h2>
<ul>
<li>Extending tests.</li>
<li>Added <code>Sym</code>.</li>
<li>Added <code>A2_dot_B2</code> to <em>Cartesian2d</em>.</li>
<li>API change: <b>all</b> functions that return output, including scalars, now start with a capital letter.</li>
<li>Updated readme.</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
v0.4.0</h2>
<ul>
<li>Adding "logs".</li>
<li>Unit tensors: now all using pointer API.</li>
<li>Porting all public APIs to array of tensors.</li>
<li>Pointer API: less aggressive templating.</li>
<li>API change: Renaming "equivalent_deviatioric" -&gt; "norm_deviatoric".</li>
<li>Introducing null tensors <code><a class="el" href="namespaceGMatTensor_1_1Cartesian3d.html#a3c3b1b087e442a53200b976115b4efb2" title="2nd-order null tensor (all components equal to zero).">GMatTensor::Cartesian3d::O2</a></code> and <code><a class="el" href="namespaceGMatTensor_1_1Cartesian3d.html#a908b90e3d061a8079e5db2c216f8f05e" title="4th-order null tensor (all components equal to zero).">GMatTensor::Cartesian3d::O4</a></code> (also for Cartesian2d).</li>
<li>Adding several new tensor operations / products.</li>
<li>Adding more public xtensor interface for tensor products. The aim is mostly to allow the user to be quick and dirty, e.g. when testing.</li>
<li>Formatting tests with the latter new API.</li>
</ul>
<h2><a class="anchor" id="autotoc_md35"></a>
v0.3.0</h2>
<ul>
<li>Relaxing assumption on symmetry for dev(A) : dev(A).</li>
<li>Adding symmetric only function <code>A2s_ddot_B2s</code> to pointer API.</li>
</ul>
<h2><a class="anchor" id="autotoc_md36"></a>
v0.2.0</h2>
<p ><b>Pointer API</b></p>
<ul>
<li>Making pointer explicit (template <code>T</code> -&gt; <code>T*</code>).</li>
<li>Adding zero and unit tensors.</li>
<li>Add dyadic product between two second order tensors.</li>
</ul>
<h2><a class="anchor" id="autotoc_md37"></a>
v0.1.2</h2>
<ul>
<li>Adding stride members to <code>Array</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md38"></a>
v0.1.1</h2>
<ul>
<li>Improved sub-classing support</li>
</ul>
<h2><a class="anchor" id="autotoc_md39"></a>
v0.1.0</h2>
<p >Transfer from other libraries. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
